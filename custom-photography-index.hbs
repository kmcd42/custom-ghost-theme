{{!< default}}
{{!--
Template Name: Photography Index
Description: Bento-style photography gallery experience
--}}

{{#post}}
<div class="photo-gallery-page">

    {{!-- Minimal Header --}}
    <header class="photo-gallery-header reveal-on-scroll">
        <h1 class="photo-gallery-title kinetic-text">{{title}}</h1>
        {{#if custom_excerpt}}
            <p class="photo-gallery-intro">{{custom_excerpt}}</p>
        {{/if}}
    </header>

    {{!-- Bento Photo Grid --}}
    <div class="photo-bento-grid">
        {{#get "posts" limit="100" filter="tag:photography" include="tags"}}
            {{#foreach posts}}
                <a href="{{url}}" class="photo-bento-card reveal-on-scroll" style="--stagger: {{@index}}">
                    {{#if feature_image}}
                        <div class="photo-bento-bg">
                            <img
                                srcset="{{img_url feature_image size="s"}} 400w,
                                        {{img_url feature_image size="m"}} 720w,
                                        {{img_url feature_image size="l"}} 1200w"
                                sizes="(max-width: 600px) 100vw, (max-width: 1200px) 50vw, 33vw"
                                src="{{img_url feature_image size="m"}}"
                                alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                                loading="lazy"
                            />
                        </div>
                    {{/if}}
                    <div class="photo-bento-content">
                        <h2 class="photo-bento-title">{{title}}</h2>
                        {{#if primary_tag}}
                            <span class="photo-bento-tag">{{primary_tag.name}}</span>
                        {{/if}}
                    </div>
                </a>
            {{/foreach}}
        {{/get}}
    </div>

    {{!-- Empty state --}}
    {{#get "posts" filter="tag:photography" limit="1"}}
        {{#unless posts}}
            <div class="photo-gallery-empty">
                <p>No photography posts yet. Tag posts with "photography" to display them here.</p>
            </div>
        {{/unless}}
    {{/get}}

    {{!-- Optional content --}}
    {{#if content}}
        <div class="photo-gallery-content gh-content reveal-on-scroll">
            {{content}}
        </div>
    {{/if}}

</div>
{{/post}}
